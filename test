<template>
  <div class="container">
    <h1>Documentation API</h1>
    <section v-for="(api, index) in apis" :key="index">
      <h2>{{ api.method }} {{ api.url }}</h2>
      <p><strong>Description:</strong> {{ api.description }}</p>
      <p><strong>Résultat:</strong></p>
      <pre>{{ api.result }}</pre>
    </section>
  </div>
</template>

<script setup lang="ts">
const apis = [
  {
    method: 'GET',
    url: '/api/file/inconnue/upload/list',
    description: "Récupère les options d'environnement, de zone et de catégories de fichiers disponibles pour le dépôt.",
    result: `
{
  "zone": ["za", "zu"],
  "env": ["tipi", "tipi-client"],
  "datacat": {
    "za": {
      "nominoe": {
        "extention": ".xml",
        "format": "nominoe.xml"
      },
      "ics": {
        "extention": ".txt",
        "format": "LISTE_ICS_FRANCE"
      }
    },
    "zu": {
      "helios": {
        "extention": ".xml",
        "format": "TIPI"
      }
    }
  }
}`
  },
  {
    method: 'POST',
    url: '/api/file/{env}/upload/{zone}/{category}/depot',
    description: 'Dépose un fichier dans la catégorie spécifiée pour l\'environnement et la zone donnés.',
    result: `
{
  "success": true,
  "message": "Fichier déposé avec succès."
}
ou
{
  "success": false,
  "message": "Erreur lors du dépôt du fichier."
}`
  }
];
</script>

<style scoped>
.container {
  max-width: 800px;
  margin: auto;
  padding: 20px;
}
h1, h2 {
  color: #333;
}
pre {
  background: #f4f4f4;
  padding: 10px;
  border: 1px solid #ddd;
  border-radius: 5px;
}
</style>