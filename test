<template>
  <div class="container my-5">
    <div class="header text-center py-5 rounded shadow animate__animated animate__fadeIn">
      <h1>Documentation Utilisateur</h1>
    </div>
    <div class="buttons my-4 text-center">
      <button v-for="(category, index) in categories" :key="index" @click="setActiveCategory(index)" class="btn btn-primary mx-2 animate__animated animate__fadeInUp">
        {{ category.name }}
      </button>
    </div>
    <section v-for="(page, index) in activeCategory.pages" :key="index" class="page-section animate__animated animate__fadeIn">
      <div class="card mb-4 shadow-sm">
        <div class="card-body">
          <h4 class="card-title text-center text-primary">{{ page.title }}</h4>
          <p class="card-text">{{ page.description }}</p>
          <div v-if="page.image" class="text-center my-3">
            <img :src="page.image" :alt="page.title" class="img-fluid rounded shadow-sm">
          </div>
          <p><strong>Fonctionnalités:</strong></p>
          <ul>
            <li v-for="(feature, featureIndex) in page.features" :key="featureIndex">{{ feature }}</li>
          </ul>
        </div>
      </div>
    </section>
  </div>
</template>

<script setup lang="ts">
import 'animate.css';

const pages = [
  {
    category: "Navigation",
    sections: [
      {
        title: "Barre de navigation",
        description: "La barre de navigation permet d'accéder facilement aux différentes sections du site.",
        image: "/images/navbar.jpg",
        features: [
          "Menu déroulant pour les sections principales",
          "Liens vers les pages",
          "Possibilité de changer de thème (sombre/clair) avec l'icône en haut à droite de votre page"
        ]
      },
    ]
  },
  {
    category: "Jeux de données",
    sections: [
      {
        title: "Jeux de données",
        description: "La page des jeux de données vous permet de générer des jeux de données.",
        image: "/images/jeuxdedonnées.PNG",
        features: [
          "Possibilité de changer d'environnement (tipi/tipi-client)",
          "Accès rapide aux sections (RNF, Titre, Rôle, EPS)",
          "Mettre à jour les dernières données (20, 50, 70, 100 lignes)",
          "Afficher les données sous forme de tableau",
          "Il est possible de trier chaque colonne par ordre croissant ou décroissant en cliquant sur l'en-tête en noir",
          "Rechercher les références présentes dans le tableau avec la barre de recherche placée en haut à droite du tableau",
          "Afficher plus de lignes par page (10, 25)"
        ]
      },
      {
        title: "Jeux de données, changer d'environnement",
        description: "cocher la case afin de changer d'environnement et récupérer les jeux de données de l'environnement choisi ",
        image: "/images/env.PNG",
        features: [
          "changement d'application tipi/tipi-client",
        ]
      },
      {
        title: "Jeux de données, sections ",
        description: "Accéder au differentes séction en cliquant sur les différents radios ",
        image: "/images/sections.PNG",
        features: [
          "EXEMPLE : si je clique sur Titre je vais par la suite générer tous les Jeux de données liée au Titre",
        ]
      },
      {
        title: "Jeux de données,afficher/Mettre à jour",
        description: "permet d'afficher les données et de mettre ajour les données afin de récperer les données les plus récentes ",
        image: "/images/afficher.PNG",
        features: [
          "cliquer sur afficher afin de générer le tableau de donnée",
          "cliquer sur Mettre à jour afin de générer le tableau avec les données récentes "
        ]
      },
      {
        title: "Mettre à jour",
        description: "des que le bouton Mettre a jour est cliquer , vous aurez la possiblité de choisir le nombre de lignes a Mettre a jour",
        image: "/images/Mettreajour.png",
        features: [
          "EXEMPLE : si je choisi 70  ,je vais récupérer les 70 données les plus récentes",
          
        ]
      },
      
    ]
  },
  {
    category: "Suivi de production",
    sections: [
      {
        title: "Suivi de production (tipi/tipi-client/Payfip)",
        description: "Cette page permet de faire un suivi de production de la IIA (tipi/tipi-client/Payfip).",
        image: "/images/suivideproduction.PNG",
        features: [
          "Gestion des traitements : choisir un ou plusieurs cas, par exemple, 'À venir' et 'Terminé' affichera dans le tableau tous les traitements 'À venir' et les traitements terminés."
        ]
      },
    ]
  },
  {
    category: "Paiement",
    sections: [
      {
        title: "Paiement (tipi/tipi-client)",
        description: "La page de paiement vous permettra de faciliter tous vos tests de paiement.",
        image: "/images/Paiement.PNG",
        features: [
          "Tous les champs du formulaire doivent être verts pour pouvoir créer un paiement",
          "Possibilité de réaliser des paiements Web service, URL et via le portail PAYFIP",
        ]
      },
      {
        title: "Paiement, EXER",
        description: "Le Champ Exercice correspond a la Date ",
        image: "/images/Exercice.PNG",
        features: [
          "Vous ne pouvez mettre que des chiffres ",
          "Maximum de caractére est de 4",
          "Champ obligatoire"
        ]
      },
      {
        title: "Paiement, Saisie",
        description: "Le Champ Saisie correspond au Mode de Saisie  ",
        image: "/images/Saisie.png",
        features: [
          "T pour des paiement de Test",
          "X pour des paiement d'activation",
          "W pour des paiements réels"
        ]
      },
      {
        title: "Paiement, Numéro de client",
        description: "Le Numéro Client attribue a la collectivite par l'administrateur TIPI ",
        image: "/images/nmc.PNG",
        features: [
          "vous ne pouvez mettre que des chiffres",
          "Maximum de caractére est de 6",
          "Champ obligatoire"
        ]
      },
      {
        title: "Paiement, Référence de la dette",
        description: "cette référence est indispensable pour que les usagers puissent effectuer leurs paiements",
        image: "/images/refdet.PNG",
        features: [
          "Minimum de caractére est de 6",
          "Maximum de caractére est de 30",
          "Champ obligatoire"
        ]
      },
      {
        title: "Paiement, Montant",
        description: "Il s'agit du montant de la facture ",
        image: "/images/Montant.PNG",
        features: [
          "Vous ne pouvez mettre que des chiffres",
          "Maximum de caractére est de 11",
          "Champ obligatoire"
        ]
      },
      {
        title: "Paiement, objet",
        description: "Il s'agit de l'objet de l'operation ",
        image: "/images/objet.PNG",
        features: [
          "Maximum de caractére est de 100",
          "Champ facultative"
        ]
      },
      {
        title: "Paiement, Mail",
        description: "Il s'agit de l'adresse mail de l'usager ",
        image: "/images/Mail.PNG",
        features: [
          "Minimum de caractére est de 6",
          "Maximum de caractére est de 80",
          "Champ obligatoire"
        ]
      },
        {
        title: "Paiement, Url de notification",
        description: "Url retour sur le site partenaire pour permettre l'affichage des informations récapitulatives de paiement",
        image: "/images/urlnotif.PNG",
        features: [
          "doit être une adresse IP publique et non privée",
          "Maximum de caractére est de 250",
          "Champ obligatoire"
        ]
      },
      {
        title: "Paiement, Url de redirection (Web service)",
        description: "Url de redirection de l'usager vers le site partenaire pour permettre l'affichage des informations récapitulatives de paiement",
        image: "/images/urlredi.PNG",
        features: [
          "doit être une adresse IP publique et non privée",
          "Maximum de caractére est de 250",
          "Champ obligatoire"
        ]
      },



      {
        title: "Paiement cas d'erreur (tipi/tipi-client)",
        description: "La page de paiement vous avertira s'il y a une erreur, qui peut être due à une faute d'orthographe dans l'un des formulaires ou à une erreur du numéro de client.",
        image: "/images/paiementerreur.PNG",
        features: []
      },
      {
        title: "Création de Paiement réussi (tipi/tipi-client)",
        description: "La page de paiement vous redirigera vers la page de Payfip où vous pourrez faire vos paiements par prélèvement ou par carte bancaire.",
        image: "/images/paiementreussi.PNG",
        features: []
      }
    ]
  },
  {
    category: "Fichiers",
    sections: [
      {
        title: "Téléchargement de fichiers , sélection",
        description: "Arrivé sur la page de téléchargement, vous devrez sélectionner des options afin d'afficher les fichiers que vous souhaitez télécharger.",
        image: "/images/téléchargement.PNG",
        features: [
          "Le type de données : Données/Log",
          "Environnement : Tipi/tipi-client",
          "Zone : ZA/ZU"
        ]
      },
      {
        title: "Téléchargement de fichiers , Données",
        description: "Vous avez la possiblité de chosir le type de donées.",
        image: "/images/données.png",
        features: [
          "Données récupération de données",
          "Log pour récupérer les données des processus des systèmes et des applications.",
                ]
      },
      {
        title: "Téléchargement de fichiers , Environnement",
        description: "Choisissez l'application afin de récupérer les données de cette application",
        image: "/images/tipi.png",
        features: [
          "cliquer sur l'application Tipi pour récupérer les fichiers correspondant a l'application Tipi",
          "cliquer sur l'application Tipi Client pour récupérer les fichiers correspondant a l'application Tipi Client",
              ]
      },
      {
        title: "Téléchargement de fichiers , Zone",
        description: "Choisissez la zone pour récupérer les fichiers de cette zone",
        image: "/images/zone.png",
        features: [
          "cliquer sur la zone ZA pour récupérer les fichiers correspondant a cette zone",
          "cliquer sur la zone ZU pour récupérer les fichiers correspondant a cette zone",
              ]
      },
      {
        title: "Téléchargement de fichiers , Valider",
        description: "Une fois que tous les champs ont été choisi vous devrez appuyer sur le bouton valider pour générer la liste de fichier",
        image: "/images/toutzone.png",
        features: [
          "cliquer sur Valider  une fois que vous aurez choisi vous paramétres",
         
              ]
      },

      {
        title: "Téléchargement de fichiers , liste des fichiers",
        description: "Une fois la sélection faite, vous aurez un tableau contenant des fichiers.",
        image: "/images/listefichier.PNG",
        features: [
          "Possibilité de modifier la sélection précédente",
          "Filtre de recherche : vous pouvez effectuer un filtre par date en insérant deux dates (plage de dates), rechercher le nom du fichier directement ou encore rechercher la catégorie des fichiers",
          "Pour lancer le téléchargement, il faut sélectionner un ou plusieurs fichiers ; vous avez la possibilité de tout sélectionner directement avec la case présente dans l'en-tête noir du tableau",
          "Vous pouvez changer de page avec la pagination présente en bas à droite du tableau"
        ]
      },
      {
        title: "Téléchargement de fichiers , Date",
        description: "filtrer votre recherche en mettant deux dates afin d'être plus précis sur vos récupération de fichiers ",
        image: "/images/date.PNG",
        features: [
          "date de début : il faut séléctionner une date soit manuellement en y insérant (jour /mois /année) ou séléctionner une date en cliquant sur l'icone calendrier ",
          "date de fin : il faut séléctionner une date soit manuellement en y insérant (jour /mois /année) ou séléctionner une date en cliquant sur l'icone calendrier ",
          "Une fois vos deux dates mises vous allez avoir dans le tableau les fichiers ayant une date compris entre la date de début et la date de fin ",
          "si aucun fichier n'est présent dans le tableau ,vérifier si les fichiers rechercher correpondent aux dates que vous avez séléctionner précédement"
        ]
      },
      {
        title: "Téléchargement de fichiers , nom et catégorie",
        description: "filtrer votre recherche en recherchant le nom du fichiers rechercher et la catégorie rechercher afin d'être plus précis sur vos récupération de fichiers ",
        image: "/images/nomcategorie.PNG",
        features: [
          "Rechercher vos fichiers simplement ",
          "si aucun fichier n'est présent dans le tableau ,vérifier si les fichiers rechercher correpondent a vos recherches"
        ]
      },
      

      {
        title: "Téléchargement de fichiers , téléchargement en ZIP",
        description: "Une fois le bouton 'Générer fichier' cliqué, cela lancera un chargement plus ou moins long en fonction du nombre de fichiers sélectionnés, mais surtout du nombre de Mo !",
        image: "/images/récupération.PNG",
        features: [
          "Génère un fichier ZIP contenant la liste des fichiers que vous avez sélectionnés dans le tableau",
        ]
      },
      {
        title: "Téléchargement de fichiers ,limite",
        description: "la limite de séléction de fichiers est de 200 Mo",
        image: "/images/limite.PNG",
        features: [
          "Veuillez ne pas dépasser cette limite car si la limite est dépasser vous ne pourais pas télécharger vous fichier",
          "vert : téléchargement est possible ",
          "orange : téléchargement est possible maos on se rapproche de la limite de 200 Mo",
          "rouge : téléchargement impossible , désélectionner des fichiers afin de lancer le téléchargement"
        ]
      },
      {
        title: "Envoi de fichiers , sélection",
        description: "séléctionner les options souhaiter afin d'envoyer le fichier",
        image: "/images/séléction.PNG",
        features: [
          "environnement choisi pour envoyer les fichiers (tipi/tipi client)",
          "zone choisi pour envoyer les fichiers (ZA/ZU)",
          "catégorie souhaiter (dépent la zone choisi précédement)",
          "ainsi insérer un ou plusieurs fichier ",
          "! Veuiller placer des fichiers qui correspondent au bon format "

        ]
      },
      {
        title: "Envoi de fichiers , dépot",
        description: "dépot de fichiers ",
        image: "/images/déposer.PNG",
        features: [
        "les fichiers n'ayant pas le bon format ne sera pas déposer ainsi vous pourrez envoyer seulement les fichier qui auront le format correspondant ",
          "vous pouvez toujours supprimer ou ajouter des fichiers",
      ]
      },
      {
        title: "Envoi de fichiers , envoi",
        description: "l'envoi de fichiers  ",
        image: "/images/envoi.PNG",
        features: [
        "s'il n'y a aucun probléme lier a l'envoi de fichier le statut sera vert vous indiquant que le fichiers a bien été envoyer ",
        "dans le cas contraire le status sera afficher en rouge vous indiquant quel est le probléme ",
      ]
      }
    ]
  },
];

const categories = [
  { name: "Navigation", pages: pages.find(page => page.category === "Navigation")?.sections },
  { name: "Jeux de données", pages: pages.find(page => page.category === "Jeux de données")?.sections },
  { name: "Suivi de production", pages: pages.find(page => page.category === "Suivi de production")?.sections },
  { name: "Paiement", pages: pages.find(page => page.category === "Paiement")?.sections },
  { name: "Fichiers", pages: pages.find(page => page.category === "Fichiers")?.sections },
];

const activeCategoryIndex = ref(0);
const activeCategory = computed(() => categories[activeCategoryIndex.value]);

const setActiveCategory = (index: number) => {
  activeCategoryIndex.value = index;
};
</script>

<style scoped>
.container {
  margin: auto;
  padding: 20px;
  background-color: #f8f9fa;
}

.header {
  background-color: #007bff;
  color: white;
  border-radius: 5px;
}

.buttons .btn {
  padding: 10px 20px;
  margin: 5px;
  transition: background-color 0.3s;
}

.buttons .btn:hover {
  background-color: #0056b3;
}

.page-section {
  margin-top: 20px;
}

.card {
  border: none;
}

.card-title {
  margin-bottom: 20px;
}

.card-text {
  margin-bottom: 20px;
}

ul {
  padding-left: 20px;
}

li {
  margin-bottom: 10px;
}

img {
  max-width: 100%;
  height: auto;
}
</style>
