<script>
export default {
  name: 'PageLots',

  data() {
    return {
      titleData: "Lots",
      tabsData: [{ label: 'Lot 1' }, { label: 'Lot 2' }, { label: '+' }],
      modalForm: false,
    };
  },

  methods: {
    appliquerCouleurs() {
      // Sélection des éléments des colonnes "réalisation", "testJunit", et "resultat"
      const tdReals = document.querySelectorAll('.real');
      const tdJunit = document.querySelectorAll('.tdJunit');
      const tdResul = document.querySelectorAll('.resulTd');

      // Appliquer les couleurs pour les colonnes "realisation"
      tdReals.forEach(function(td) {
        const value = parseInt(td.textContent);
        if (value === 100) {
          td.classList.add('complete');
        } else if (value < 100 && value > 0) {
          td.classList.add('incomplete');
        }
      });

      // Appliquer les couleurs pour les colonnes "testJunit"
      tdJunit.forEach(function(td) {
        const value = parseInt(td.textContent);
        if (value === 100) {
          td.classList.add('complete');
        } else if (value < 100 && value > 0) {
          td.classList.add('incomplete');
        }
      });

      // Appliquer les couleurs pour la colonne "resultat"
      tdResul.forEach(function(td) {
        const value = td.textContent.trim();
        if (value === 'OK') {
          td.classList.add('complete');
        } else if (value === 'KO') {
          td.classList.add('error');
        }
      });
    },

    submitForm() {
      this.modalForm = !this.modalForm;
    },

    supprimerLot() {
      console.log("lot supprimé");
    },
  },

  mounted() {
    // Appeler la méthode pour appliquer les couleurs une fois que le composant est monté
    this.appliquerCouleurs();
  },
};
</script>