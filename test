<template>
  <div class="container">
    <div class="d-flex justify-content-center text-center p-3 rounded border border-white mt-5 mx-auto animate__animated animate__fadeIn">
      <h1>Documentation Utilisateur</h1>
    </div>
    <div>
      <div class="d-flex justify-content-center">
        <button v-for="(category, index) in categories" :key="index" @click="setActiveCategory(index)" class="btn btn-primary category-button animate__animated animate__fadeInUp">
          {{ category.name }}
        </button>
      </div>
    </div>
    <section v-for="(page, index) in activeCategory.pages" :key="index" class="animate__animated animate__fadeIn">
      <h4 class="text-center text-primary">{{ page.title }}</h4>
      <div class="page-content">
        <p>{{ page.description }}</p>
        <div v-if="page.image" class="image-container">
          <img :src="page.image" :alt="page.title" class="img-fluid rounded">
        </div>
        <p><strong>Fonctionnalités:</strong></p>
        <ul>
          <li v-for="(feature, featureIndex) in page.features" :key="featureIndex">{{ feature }}</li>
        </ul>
      </div>
    </section>
  </div>
</template>

<script setup lang="ts">
import { ref, computed } from 'vue';
import 'animate.css';

const pages = [
  {
    category: "Accueil",
    sections: [
      {
        title: "Page d'accueil",
        description: "La page d'accueil est le point de départ de votre site. Elle présente un aperçu des principales fonctionnalités et des dernières mises à jour.",
        image: "/images/homepage-image.jpg",
        features: [
          "Présentation générale du site",
          "Accès rapide aux principales sections",
          "Dernières mises à jour et actualités"
        ]
      },
      // Ajoutez d'autres sections pour la catégorie "Accueil" ici
    ]
  },
  {
    category: "Navigation",
    sections: [
      {
        title: "Barre de navigation",
        description: "La barre de navigation permet d'accéder facilement aux différentes sections du site.",
        image: "/images/navbar-image.jpg",
        features: [
          "Menu déroulant pour les sections principales",
          "Liens vers les pages de contact et d'aide",
          "Recherche rapide sur le site"
        ]
      },
      // Ajoutez d'autres sections pour la catégorie "Navigation" ici
    ]
  },
  {
    category: "Fonctionnalités",
    sections: [
      {
        title: "Gestion des utilisateurs",
        description: "Cette page permet de gérer les utilisateurs inscrits sur le site.",
        image: "/images/user-management-image.jpg",
        features: [
          "Ajout et suppression d'utilisateurs",
          "Modification des informations de profil",
          "Gestion des droits d'accès"
        ]
      },
      // Ajoutez d'autres sections pour la catégorie "Fonctionnalités" ici
    ]
  },
  {
    category: "Contact",
    sections: [
      {
        title: "Page de contact",
        description: "La page de contact permet aux utilisateurs de vous envoyer des messages et des demandes.",
        image: "/images/contact-image.jpg",
        features: [
          "Formulaire de contact",
          "Informations de contact direct",
          "Carte interactive"
        ]
      },
      // Ajoutez d'autres sections pour la catégorie "Contact" ici
    ]
  }
];

const categories = [
  { name: "Accueil", pages: pages.find(page => page.category === "Accueil")?.sections },
  { name: "Navigation", pages: pages.find(page => page.category === "Navigation")?.sections },
  { name: "Fonctionnalités", pages: pages.find(page => page.category === "Fonctionnalités")?.sections },
  { name: "Contact", pages: pages.find(page => page.category === "Contact")?.sections },
];

const activeCategoryIndex = ref(0);
const activeCategory = computed(() => categories[activeCategoryIndex.value]);

const setActiveCategory = (index: number) => {
  activeCategoryIndex.value = index;
};
</script>

<style scoped>
.container {
  max-width: 900px;
  margin: auto;
  padding: 20px;
}

pre {
  padding: 10px;
  border: 1px solid #817d7d;
  border-radius: 5px;
}

h4 {
  padding: 10px;
  border: 1px solid #4c57f0;
  border-radius: 50px;
  text-align: center;
}

.page-content {
  margin-top: 20px;
}

.image-container {
  text-align: center;
  margin: 20px 0;
}

.image-container img {
  max-width: 100%;
  height: auto;
}

.category-button {
  margin: 10px 5px;
  padding: 10px 15px;
  background-color: #4c57f0;
  color: #fff;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  transition: background-color 0.3s;
}

.category-button:hover {
  background-color: #787986;
}
</style>