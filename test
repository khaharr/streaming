<template>
  <div class="container my-5">
    <div class="header text-center py-5 rounded shadow animate__animated animate__fadeIn">
      <h1>Documentation Utilisateur</h1>
    </div>
    <div class="buttons my-4 text-center">
      <button v-for="(category, index) in categories" :key="index" @click="setActiveCategory(index)" class="btn btn-primary mx-2 animate__animated animate__fadeInUp">
        {{ category.name }}
      </button>
    </div>
    <section v-for="(page, index) in activeCategory.pages" :key="index" class="page-section animate__animated animate__fadeIn">
      <div class="card mb-4 shadow-sm">
        <div class="card-body">
          <h4 class="card-title text-center text-primary">{{ page.title }}</h4>
          <p class="card-text">{{ page.description }}</p>
          <div v-if="page.image" class="text-center my-3">
            <img :src="page.image" :alt="page.title" class="img-fluid rounded shadow-sm">
          </div>
          <p><strong>Fonctionnalités:</strong></p>
          <ul>
            <li v-for="(feature, featureIndex) in page.features" :key="featureIndex">{{ feature }}</li>
          </ul>
        </div>
      </div>
    </section>
  </div>
</template>

<script setup lang="ts">
import { ref, computed } from 'vue';
import 'bootstrap/dist/css/bootstrap.min.css';
import 'animate.css';

const pages = [
  {
    category: "Accueil",
    sections: [
      {
        title: "Page d'accueil",
        description: "La page d'accueil est le point de départ de votre site. Elle présente un aperçu des principales fonctionnalités et des dernières mises à jour.",
        image: "/images/homepage-image.jpg",
        features: [
          "Présentation générale du site",
          "Accès rapide aux principales sections",
          "Dernières mises à jour et actualités"
        ]
      },
      // Ajoutez d'autres sections pour la catégorie "Accueil" ici
    ]
  },
  {
    category: "Navigation",
    sections: [
      {
        title: "Barre de navigation",
        description: "La barre de navigation permet d'accéder facilement aux différentes sections du site.",
        image: "/images/navbar-image.jpg",
        features: [
          "Menu déroulant pour les sections principales",
          "Liens vers les pages de contact et d'aide",
          "Recherche rapide sur le site"
        ]
      },
      // Ajoutez d'autres sections pour la catégorie "Navigation" ici
    ]
  },
  {
    category: "Fonctionnalités",
    sections: [
      {
        title: "Gestion des utilisateurs",
        description: "Cette page permet de gérer les utilisateurs inscrits sur le site.",
        image: "/images/user-management-image.jpg",
        features: [
          "Ajout et suppression d'utilisateurs",
          "Modification des informations de profil",
          "Gestion des droits d'accès"
        ]
      },
      // Ajoutez d'autres sections pour la catégorie "Fonctionnalités" ici
    ]
  },
  {
    category: "Contact",
    sections: [
      {
        title: "Page de contact",
        description: "La page de contact permet aux utilisateurs de vous envoyer des messages et des demandes.",
        image: "/images/contact-image.jpg",
        features: [
          "Formulaire de contact",
          "Informations de contact direct",
          "Carte interactive"
        ]
      },
      // Ajoutez d'autres sections pour la catégorie "Contact" ici
    ]
  }
];

const categories = [
  { name: "Accueil", pages: pages.find(page => page.category === "Accueil")?.sections },
  { name: "Navigation", pages: pages.find(page => page.category === "Navigation")?.sections },
  { name: "Fonctionnalités", pages: pages.find(page => page.category === "Fonctionnalités")?.sections },
  { name: "Contact", pages: pages.find(page => page.category === "Contact")?.sections },
];

const activeCategoryIndex = ref(0);
const activeCategory = computed(() => categories[activeCategoryIndex.value]);

const setActiveCategory = (index: number) => {
  activeCategoryIndex.value = index;
};
</script>

<style scoped>
.container {
  max-width: 900px;
  margin: auto;
  padding: 20px;
  background-color: #f8f9fa;
}

.header {
  background-color: #007bff;
  color: white;
  border-radius: 5px;
}

.buttons .btn {
  padding: 10px 20px;
  margin: 5px;
  transition: background-color 0.3s;
}

.buttons .btn:hover {
  background-color: #0056b3;
}

.page-section {
  margin-top: 20px;
}

.card {
  border: none;
}

.card-title {
  margin-bottom: 20px;
}

.card-text {
  margin-bottom: 20px;
}

ul {
  padding-left: 20px;
}

li {
  margin-bottom: 10px;
}

img {
  max-width: 100%;
  height: auto;
}
</style>